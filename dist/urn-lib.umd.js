!function(r,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e=t();for(var n in e)("object"==typeof exports?exports:r)[n]=e[n]}}(self,(function(){return(()=>{"use strict";var r={309:(r,t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatUrn=void 0;const n=e(778);t.formatUrn=function(r,t,e,o){if(r=o&&o.protocol?o.protocol:r,!n.isString(r))throw new Error("protocol is missing or invalid");return r+e+t.map((r=>n.isString(o[r])?o[r]:"")).join(e)}},201:(r,t,e)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrn=void 0;const n=e(778);t.parseUrn=function(r,t,e){if(!Array.isArray(r)||r.length<1)throw new Error("components not valid");if(!n.isString(e))return null;const o=e.split(t);if(o.length<2)return null;const i={protocol:o.shift()},l=r.length-1;for(let t=0;t<l;t++)i[r[t]]=o.length?o.shift():null;return i[r[l]]=o.length?o.join(t):null,i}},778:(r,t)=>{function e(r){return"string"==typeof r}function n(r,t){const n=t.protocol;return!!e(n)&&r.toLowerCase()===n.toLowerCase()}function o(r,t,n=!1){const o=r[t];return e(o)&&(n||o.length>0)}Object.defineProperty(t,"__esModule",{value:!0}),t.urnObject=t.isValid=t.isProtocol=t.isString=t.isRfc2141NidString=t.validationRuleObjectToArray=t.RFC2141_NID_VALID=void 0,t.RFC2141_NID_VALID="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-",t.validationRuleObjectToArray=function(r){return Array.isArray(r)?r:[r.name,r.failureMessage,r.test]},t.isRfc2141NidString=function(r,n=!1){if(!0===n){if(!e(r))return!1;if(r.length<1)return!1;if(r.length>31)return!1;if("urn"===r.toLowerCase())return!1}if(!e(r=null!=r?r:""))return!1;if("-"===r[0])return!1;for(const e of r)if(t.RFC2141_NID_VALID.indexOf(e)<0)return!1;return!0},t.isString=e,t.isProtocol=n,t.isValid=o,t.urnObject=function(r,t,e,i){const l=[];return Object.keys(i).forEach((r=>{o(i,r,e)||l.push(`validation failed for ${r}: invalid value`)})),n(r,i)||l.push(`validation failed for protocol: expected ${r} but got ${i.protocol}`),t.forEach((r=>{const[t,e,n]=r;try{!0!==n(i[t])&&l.push(`validation failed for ${t}: ${e}`)}catch(r){l.push(`validation error for ${t}: ${r.message}`)}})),l.length?l:null}},5:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COMPONENTS=t.SEPARATOR=t.PREFIX=void 0,t.PREFIX="urn",t.SEPARATOR=":",t.COMPONENTS=["nid","nss"]}},t={};function e(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return r[n](i,i.exports,e),i.exports}var n={};return(()=>{var r=n;Object.defineProperty(r,"__esModule",{value:!0}),r.RFC2141=r.create=r.generateDefaultValidationRules=void 0;const t=e(309),o=e(201),i=e(778),l=e(5);function a(r){const t=r.length-1,e=[];for(let n=0;n<t;n++){const t=r[n];e.push([t,"invalid characters",r=>i.isRfc2141NidString(r,!1)])}return e}function u(r,t,e={}){e=e||{};const n={protocol:r};return t.forEach((r=>{const t=e[r];n[r]=i.isString(t)?t:null})),n}function s(r,e){var n,s;const c=(e=e||{}).components||l.COMPONENTS,f=null!==(n=e.allowEmpty)&&void 0!==n&&n,d=null!==(s=e.separator)&&void 0!==s?s:l.SEPARATOR,p=(e.validationRules||a(c)).map((r=>i.validationRuleObjectToArray(r)));return{validate:i.urnObject.bind(null,r,p,f),format:t.formatUrn.bind(null,r,c,d),parse:o.parseUrn.bind(null,c,d),build:u.bind(null,r,c)}}r.generateDefaultValidationRules=a,r.create=s,r.RFC2141=s(l.PREFIX,{components:l.COMPONENTS,separator:l.SEPARATOR,allowEmpty:!1})})(),n})()}));
//# sourceMappingURL=urn-lib.umd.js.map